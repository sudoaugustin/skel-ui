import { DocsLayout } from "fumadocs-ui/layout";
import { RootProvider } from "fumadocs-ui/provider";
import { DM_Mono } from "next/font/google";
import localFont from "next/font/local";
import type { ReactNode } from "react";
import "./global.css";
import { source } from "./source";

const sans = localFont({
  src: "./ClashGrotesk-Variable.woff2",
  display: "swap",
  variable: "--font-sans",
});

const mono = DM_Mono({ subsets: ["latin"], weight: "400", variable: "--font-mono" });

function Logo() {
  return (
    <svg width="180" viewBox="0 0 180 64" fill="none" className="w-20">
      <rect width="180" height="64" rx="16" fill="white" />
      <path
        d="M33.08 48.48C29.944 48.48 27.352 48.064 25.304 47.232C23.256 46.4 21.736 45.168 20.744 43.536C19.752 41.904 19.256 39.904 19.256 37.536V36.912H26.312V37.392C26.312 38.576 26.504 39.504 26.888 40.176C27.272 40.816 27.96 41.28 28.952 41.568C29.976 41.824 31.464 41.952 33.416 41.952C35.464 41.952 36.824 41.728 37.496 41.28C38.168 40.832 38.504 40.064 38.504 38.976C38.504 38.24 38.392 37.648 38.168 37.2C37.976 36.752 37.528 36.384 36.824 36.096C36.12 35.776 35.016 35.504 33.512 35.28L27.848 34.272C25.8 33.92 24.12 33.344 22.808 32.544C21.528 31.712 20.584 30.688 19.976 29.472C19.4 28.224 19.112 26.768 19.112 25.104C19.112 23.44 19.528 21.872 20.36 20.4C21.224 18.928 22.6 17.728 24.488 16.8C26.408 15.84 28.888 15.36 31.928 15.36C35 15.36 37.48 15.84 39.368 16.8C41.288 17.76 42.696 19.088 43.592 20.784C44.488 22.448 44.936 24.352 44.936 26.496V26.88H37.832V26.352C37.832 25.232 37.656 24.352 37.304 23.712C36.952 23.072 36.328 22.608 35.432 22.32C34.536 22.032 33.288 21.888 31.688 21.888C29.64 21.888 28.216 22.128 27.416 22.608C26.648 23.056 26.264 23.792 26.264 24.816C26.264 25.488 26.392 26.032 26.648 26.448C26.904 26.832 27.352 27.136 27.992 27.36C28.664 27.584 29.624 27.824 30.872 28.08L36.584 29.184C38.824 29.6 40.6 30.272 41.912 31.2C43.256 32.096 44.216 33.184 44.792 34.464C45.368 35.744 45.656 37.168 45.656 38.736C45.656 40.432 45.24 42.032 44.408 43.536C43.576 45.008 42.248 46.208 40.424 47.136C38.6 48.032 36.152 48.48 33.08 48.48ZM73.3108 48H65.0548L59.7748 39.216H52.1428V32.784H59.6308L65.1028 23.856H73.3588L65.4868 35.376L73.3108 48ZM56.0788 48H48.9268V15.84H56.0788V48ZM85.0963 48.48C82.3443 48.48 80.0723 47.968 78.2803 46.944C76.4883 45.92 75.1603 44.48 74.2963 42.624C73.4323 40.736 73.0003 38.528 73.0003 36C73.0003 33.408 73.4803 31.168 74.4403 29.28C75.4323 27.392 76.8403 25.936 78.6643 24.912C80.4883 23.888 82.6483 23.376 85.1443 23.376C87.5763 23.376 89.6403 23.824 91.3363 24.72C93.0643 25.616 94.3763 26.864 95.2723 28.464C96.2003 30.032 96.6643 31.872 96.6643 33.984C96.6643 34.656 96.6163 35.312 96.5203 35.952C96.4563 36.592 96.3923 37.12 96.3282 37.536H76.1683V33.168H90.1843L89.7043 33.552C89.8323 32.624 89.7203 31.856 89.3683 31.248C89.0483 30.608 88.5043 30.128 87.7363 29.808C87.0003 29.456 86.0563 29.28 84.9043 29.28C82.9203 29.28 81.5603 29.728 80.8243 30.624C80.0883 31.52 79.7203 32.8 79.7203 34.464V36.576C79.7203 37.92 79.8643 39.008 80.1523 39.84C80.4723 40.672 81.0323 41.28 81.8323 41.664C82.6323 42.048 83.7523 42.24 85.1923 42.24C86.6323 42.24 87.6723 42.08 88.3123 41.76C88.9843 41.408 89.3203 40.864 89.3203 40.128V39.84H96.4243V40.32C96.4243 42.048 95.9603 43.52 95.0323 44.736C94.1043 45.952 92.7923 46.88 91.0963 47.52C89.4003 48.16 87.4003 48.48 85.0963 48.48ZM107.313 48H100.161V15.84H107.313V48ZM134.896 48.48C131.76 48.48 129.136 47.952 127.024 46.896C124.944 45.84 123.376 44.352 122.32 42.432C121.296 40.48 120.784 38.16 120.784 35.472V15.84H127.936V35.376C127.936 36.912 128.144 38.128 128.56 39.024C129.008 39.92 129.728 40.56 130.72 40.944C131.712 41.328 133.104 41.52 134.896 41.52C136.656 41.52 138.032 41.328 139.024 40.944C140.048 40.56 140.768 39.92 141.184 39.024C141.6 38.128 141.808 36.912 141.808 35.376V15.84H149.008V35.472C149.008 38.16 148.48 40.48 147.424 42.432C146.368 44.352 144.784 45.84 142.672 46.896C140.592 47.952 138 48.48 134.896 48.48ZM160.659 48H153.459V15.84H160.659V48Z"
        fill="#0A0A0A"
      />
    </svg>
  );
}

export default function Layout({ children }: { children: ReactNode }) {
  return (
    <html lang="en" className={`${sans.variable} ${mono.variable} font-sans`} suppressHydrationWarning>
      <body className="">
        <RootProvider>
          <DocsLayout
            nav={{ title: <Logo /> }}
            tree={source.pageTree}
            sidebar={{ defaultOpenLevel: 1 }}
            githubUrl="https://github.com/sudoaugustin/@skel-ui"
          >
            {children}
          </DocsLayout>
        </RootProvider>
      </body>
    </html>
  );
}
